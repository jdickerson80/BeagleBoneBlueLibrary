<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BeagleBoneBlue: LibBBB::IO::MotorControl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BeagleBoneBlue
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classLibBBB_1_1IO_1_1MotorControl.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="classLibBBB_1_1IO_1_1MotorControl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LibBBB::IO::MotorControl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html" title="The MotorControl class controls a PRU controlled servo. It handles all control of the servo via this ...">MotorControl</a> class controls a PRU controlled servo. It handles all control of the servo via this class's API. This class spawns a thread to better independently control the frequency of the signal. This allows each motor to have a unique frequency to better control the different types of servos.  
 <a href="classLibBBB_1_1IO_1_1MotorControl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MotorControl_8h_source.html">MotorControl.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LibBBB::IO::MotorControl:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl__inherit__graph.svg" width="183" height="115"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLibBBB_1_1IO_1_1MotorControl_1_1Motor.html">Motor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Servo struct holds all of the allowable motor channels.  <a href="structLibBBB_1_1IO_1_1MotorControl_1_1Motor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a34429f4f0df2578c5ffeeaa84e7312d1"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classLibBBB_1_1Math_1_1Range.html">Math::Range</a>&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a34429f4f0df2578c5ffeeaa84e7312d1">RangeType</a></td></tr>
<tr class="separator:a34429f4f0df2578c5ffeeaa84e7312d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a55cb5ace57f63ba73e679b5f79c3459a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a55cb5ace57f63ba73e679b5f79c3459a">MotorControl</a> (const <a class="el" href="structLibBBB_1_1IO_1_1MotorControl_1_1Motor.html#ac9b3074b7855064180774d7d5bfe1372">Motor::Enum</a> motorNumber, float <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#abcbc2269fc2105710a221cc3fa6a8d92">frequency</a>, const <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a34429f4f0df2578c5ffeeaa84e7312d1">RangeType</a> &amp;dutyCyclePulseWidthRange)</td></tr>
<tr class="memdesc:a55cb5ace57f63ba73e679b5f79c3459a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html" title="The MotorControl class controls a PRU controlled servo. It handles all control of the servo via this ...">MotorControl</a> <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html" title="The ServoControl class controls a servo motor. For convenience, this class adds API to control the se...">ServoControl</a> constructor creates the class, and spawns the frequency control thread.  <a href="#a55cb5ace57f63ba73e679b5f79c3459a">More...</a><br /></td></tr>
<tr class="separator:a55cb5ace57f63ba73e679b5f79c3459a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a513ca4ebff29fa1210a860bde7df13be"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a513ca4ebff29fa1210a860bde7df13be">~MotorControl</a> ()</td></tr>
<tr class="memdesc:a513ca4ebff29fa1210a860bde7df13be"><td class="mdescLeft">&#160;</td><td class="mdescRight">ServoMotorControl destructor stops the thread.  <a href="#a513ca4ebff29fa1210a860bde7df13be">More...</a><br /></td></tr>
<tr class="separator:a513ca4ebff29fa1210a860bde7df13be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae93bf4acd4eb47313dff293af958dcb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#aae93bf4acd4eb47313dff293af958dcb">setDesiredDegree</a> (int32_t degree)</td></tr>
<tr class="memdesc:aae93bf4acd4eb47313dff293af958dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">setDesiredDegree method sets the desired servo position in degrees  <a href="#aae93bf4acd4eb47313dff293af958dcb">More...</a><br /></td></tr>
<tr class="separator:aae93bf4acd4eb47313dff293af958dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577077a08a0abb0df3d53f83686b8a12"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a577077a08a0abb0df3d53f83686b8a12">setDesiredDegree</a> (int32_t degree, uint32_t rampTime)</td></tr>
<tr class="memdesc:a577077a08a0abb0df3d53f83686b8a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">setDesiredDegree method sets the desired servo position in degrees  <a href="#a577077a08a0abb0df3d53f83686b8a12">More...</a><br /></td></tr>
<tr class="separator:a577077a08a0abb0df3d53f83686b8a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eca6b917f362eb86e4c41c506b31c4a"><td class="memItemLeft" align="right" valign="top">virtual int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a3eca6b917f362eb86e4c41c506b31c4a">desiredDegree</a> () const</td></tr>
<tr class="memdesc:a3eca6b917f362eb86e4c41c506b31c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">desiredDegree getter  <a href="#a3eca6b917f362eb86e4c41c506b31c4a">More...</a><br /></td></tr>
<tr class="separator:a3eca6b917f362eb86e4c41c506b31c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e9586e72ae2fc6ab868f8cfa6429a0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a55e9586e72ae2fc6ab868f8cfa6429a0">pulseWidth</a> () const</td></tr>
<tr class="memdesc:a55e9586e72ae2fc6ab868f8cfa6429a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">pulseWidth getter  <a href="#a55e9586e72ae2fc6ab868f8cfa6429a0">More...</a><br /></td></tr>
<tr class="separator:a55e9586e72ae2fc6ab868f8cfa6429a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2caa62735bf2f443e88a9095287cbad2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a2caa62735bf2f443e88a9095287cbad2">setPulseWidth</a> (uint32_t <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a55e9586e72ae2fc6ab868f8cfa6429a0">pulseWidth</a>)</td></tr>
<tr class="memdesc:a2caa62735bf2f443e88a9095287cbad2"><td class="mdescLeft">&#160;</td><td class="mdescRight">setPulseWidth sets the pulse width of the signal  <a href="#a2caa62735bf2f443e88a9095287cbad2">More...</a><br /></td></tr>
<tr class="separator:a2caa62735bf2f443e88a9095287cbad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1fb69041c1faa982c19e94e872a675b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#ab1fb69041c1faa982c19e94e872a675b">setPulseWidth</a> (uint32_t finalPulseWidth, uint32_t rampTime)</td></tr>
<tr class="memdesc:ab1fb69041c1faa982c19e94e872a675b"><td class="mdescLeft">&#160;</td><td class="mdescRight">setPulseWidth sets the final pulse width of the signal using the given ramp time  <a href="#ab1fb69041c1faa982c19e94e872a675b">More...</a><br /></td></tr>
<tr class="separator:ab1fb69041c1faa982c19e94e872a675b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc4129f244eceb6031ab03f62ce9b6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a6cc4129f244eceb6031ab03f62ce9b6a">setFrequency</a> (float <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#abcbc2269fc2105710a221cc3fa6a8d92">frequency</a>)</td></tr>
<tr class="memdesc:a6cc4129f244eceb6031ab03f62ce9b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">setFrequency sets the frequency of the signal  <a href="#a6cc4129f244eceb6031ab03f62ce9b6a">More...</a><br /></td></tr>
<tr class="separator:a6cc4129f244eceb6031ab03f62ce9b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcbc2269fc2105710a221cc3fa6a8d92"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#abcbc2269fc2105710a221cc3fa6a8d92">frequency</a> () const</td></tr>
<tr class="memdesc:abcbc2269fc2105710a221cc3fa6a8d92"><td class="mdescLeft">&#160;</td><td class="mdescRight">frequency getter  <a href="#abcbc2269fc2105710a221cc3fa6a8d92">More...</a><br /></td></tr>
<tr class="separator:abcbc2269fc2105710a221cc3fa6a8d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebe3fe5622ed4cf7155d200716e5ba99"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#aebe3fe5622ed4cf7155d200716e5ba99">isRamping</a> () const</td></tr>
<tr class="memdesc:aebe3fe5622ed4cf7155d200716e5ba99"><td class="mdescLeft">&#160;</td><td class="mdescRight">isRamping getter  <a href="#aebe3fe5622ed4cf7155d200716e5ba99">More...</a><br /></td></tr>
<tr class="separator:aebe3fe5622ed4cf7155d200716e5ba99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af963159bf69aea7b50f7df44d60a9beb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#af963159bf69aea7b50f7df44d60a9beb">setDutyCycle</a> (uint32_t <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#afe600d5686e325e4f7de645729ba1c4e">dutyCycle</a>)</td></tr>
<tr class="memdesc:af963159bf69aea7b50f7df44d60a9beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">setDutyCycle setter  <a href="#af963159bf69aea7b50f7df44d60a9beb">More...</a><br /></td></tr>
<tr class="separator:af963159bf69aea7b50f7df44d60a9beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62366d563556cb4cafe66f0cbb07da50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a62366d563556cb4cafe66f0cbb07da50">setDutyCycle</a> (uint32_t <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#afe600d5686e325e4f7de645729ba1c4e">dutyCycle</a>, uint32_t rampTime)</td></tr>
<tr class="memdesc:a62366d563556cb4cafe66f0cbb07da50"><td class="mdescLeft">&#160;</td><td class="mdescRight">setDutyCycle  <a href="#a62366d563556cb4cafe66f0cbb07da50">More...</a><br /></td></tr>
<tr class="separator:a62366d563556cb4cafe66f0cbb07da50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe600d5686e325e4f7de645729ba1c4e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#afe600d5686e325e4f7de645729ba1c4e">dutyCycle</a> () const</td></tr>
<tr class="memdesc:afe600d5686e325e4f7de645729ba1c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">dutyCycle getter  <a href="#afe600d5686e325e4f7de645729ba1c4e">More...</a><br /></td></tr>
<tr class="separator:afe600d5686e325e4f7de645729ba1c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a09b98473544865ab78b9f735dbfda27f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classLibBBB_1_1Math_1_1LinearConverter.html">Math::LinearConverter</a>&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a09b98473544865ab78b9f735dbfda27f">Converter</a></td></tr>
<tr class="separator:a09b98473544865ab78b9f735dbfda27f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html" title="The MotorControl class controls a PRU controlled servo. It handles all control of the servo via this ...">MotorControl</a> class controls a PRU controlled servo. It handles all control of the servo via this class's API. This class spawns a thread to better independently control the frequency of the signal. This allows each motor to have a unique frequency to better control the different types of servos. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Add ranges to this class to allow easy control of hobbyist servos that are more convenient to use a degree range, not a pulse width range. </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8h_source.html#l00024">24</a> of file <a class="el" href="MotorControl_8h_source.html">MotorControl.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a09b98473544865ab78b9f735dbfda27f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09b98473544865ab78b9f735dbfda27f">&#9670;&nbsp;</a></span>Converter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classLibBBB_1_1Math_1_1LinearConverter.html">Math::LinearConverter</a>&lt; int32_t &gt; <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a09b98473544865ab78b9f735dbfda27f">LibBBB::IO::MotorControl::Converter</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MotorControl_8h_source.html#l00049">49</a> of file <a class="el" href="MotorControl_8h_source.html">MotorControl.h</a>.</p>

</div>
</div>
<a id="a34429f4f0df2578c5ffeeaa84e7312d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34429f4f0df2578c5ffeeaa84e7312d1">&#9670;&nbsp;</a></span>RangeType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classLibBBB_1_1Math_1_1Range.html">Math::Range</a>&lt; int32_t &gt; <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a34429f4f0df2578c5ffeeaa84e7312d1">LibBBB::IO::MotorControl::RangeType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="MotorControl_8h_source.html#l00029">29</a> of file <a class="el" href="MotorControl_8h_source.html">MotorControl.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a55cb5ace57f63ba73e679b5f79c3459a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55cb5ace57f63ba73e679b5f79c3459a">&#9670;&nbsp;</a></span>MotorControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LibBBB::IO::MotorControl::MotorControl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLibBBB_1_1IO_1_1MotorControl_1_1Motor.html#ac9b3074b7855064180774d7d5bfe1372">Motor::Enum</a>&#160;</td>
          <td class="paramname"><em>motorNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html#a34429f4f0df2578c5ffeeaa84e7312d1">RangeType</a> &amp;&#160;</td>
          <td class="paramname"><em>dutyCyclePulseWidthRange</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html" title="The MotorControl class controls a PRU controlled servo. It handles all control of the servo via this ...">MotorControl</a> <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html" title="The ServoControl class controls a servo motor. For convenience, this class adds API to control the se...">ServoControl</a> constructor creates the class, and spawns the frequency control thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motorNumber</td><td>the pin of the motor </td></tr>
    <tr><td class="paramname">frequency</td><td>of the motor </td></tr>
    <tr><td class="paramname">dutyCyclePulseWidthRange</td><td>the minimum and maximum pulse width used in the duty cycle calculation. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00019">19</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_a55cb5ace57f63ba73e679b5f79c3459a_cgraph.svg" width="386" height="55"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a513ca4ebff29fa1210a860bde7df13be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a513ca4ebff29fa1210a860bde7df13be">&#9670;&nbsp;</a></span>~MotorControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LibBBB::IO::MotorControl::~MotorControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ServoMotorControl destructor stops the thread. </p>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00038">38</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3eca6b917f362eb86e4c41c506b31c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eca6b917f362eb86e4c41c506b31c4a">&#9670;&nbsp;</a></span>desiredDegree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t LibBBB::IO::MotorControl::desiredDegree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>desiredDegree getter </p>
<dl class="section return"><dt>Returns</dt><dd>ALWAYS -1 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This method does nothing in this class. It is just here for polymorphic reason. If these methods are desired, use the <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html" title="The ServoControl class controls a servo motor. For convenience, this class adds API to control the se...">ServoControl</a> class </dd></dl>

<p>Reimplemented in <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html#a6ec9a8002dbffb6d81f0227f271816ff">LibBBB::IO::ServoControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00061">61</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>

</div>
</div>
<a id="afe600d5686e325e4f7de645729ba1c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe600d5686e325e4f7de645729ba1c4e">&#9670;&nbsp;</a></span>dutyCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LibBBB::IO::MotorControl::dutyCycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>dutyCycle getter </p>
<dl class="section return"><dt>Returns</dt><dd>current duty cycle </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00210">210</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_afe600d5686e325e4f7de645729ba1c4e_cgraph.svg" width="436" height="191"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abcbc2269fc2105710a221cc3fa6a8d92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcbc2269fc2105710a221cc3fa6a8d92">&#9670;&nbsp;</a></span>frequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float LibBBB::IO::MotorControl::frequency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>frequency getter </p>
<dl class="section return"><dt>Returns</dt><dd>freqency in hertz </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00170">170</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_abcbc2269fc2105710a221cc3fa6a8d92_icgraph.svg" width="403" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aebe3fe5622ed4cf7155d200716e5ba99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebe3fe5622ed4cf7155d200716e5ba99">&#9670;&nbsp;</a></span>isRamping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LibBBB::IO::MotorControl::isRamping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>isRamping getter </p>
<dl class="section return"><dt>Returns</dt><dd>true if the servo is ramping, false if it is not </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00175">175</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>

</div>
</div>
<a id="a55e9586e72ae2fc6ab868f8cfa6429a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e9586e72ae2fc6ab868f8cfa6429a0">&#9670;&nbsp;</a></span>pulseWidth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LibBBB::IO::MotorControl::pulseWidth </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>pulseWidth getter </p>
<dl class="section return"><dt>Returns</dt><dd>pulse width in microseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00159">159</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_a55e9586e72ae2fc6ab868f8cfa6429a0_icgraph.svg" width="403" height="191"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aae93bf4acd4eb47313dff293af958dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae93bf4acd4eb47313dff293af958dcb">&#9670;&nbsp;</a></span>setDesiredDegree() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setDesiredDegree </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>degree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setDesiredDegree method sets the desired servo position in degrees </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">degree</td><td>position in degrees </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This method does nothing in this class. It is just here for polymorphic reason. If these methods are desired, use the <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html" title="The ServoControl class controls a servo motor. For convenience, this class adds API to control the se...">ServoControl</a> class </dd></dl>

<p>Reimplemented in <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html#a432a542ebafb399dfcc618ff93d48043">LibBBB::IO::ServoControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00051">51</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>

</div>
</div>
<a id="a577077a08a0abb0df3d53f83686b8a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a577077a08a0abb0df3d53f83686b8a12">&#9670;&nbsp;</a></span>setDesiredDegree() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setDesiredDegree </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>degree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rampTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setDesiredDegree method sets the desired servo position in degrees </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">degree</td><td>position in degrees </td></tr>
    <tr><td class="paramname">rampTime</td><td>in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This method does nothing in this class. It is just here for polymorphic reason. If these methods are desired, use the <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html" title="The ServoControl class controls a servo motor. For convenience, this class adds API to control the se...">ServoControl</a> class </dd></dl>

<p>Reimplemented in <a class="el" href="classLibBBB_1_1IO_1_1ServoControl.html#a52faacae68e27527c575336591f85838">LibBBB::IO::ServoControl</a>.</p>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00056">56</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>

</div>
</div>
<a id="af963159bf69aea7b50f7df44d60a9beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af963159bf69aea7b50f7df44d60a9beb">&#9670;&nbsp;</a></span>setDutyCycle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setDutyCycle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dutyCycle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setDutyCycle setter </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dutyCycle</td><td>in percent * 10, so 100% is 1000 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00180">180</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_af963159bf69aea7b50f7df44d60a9beb_cgraph.svg" width="436" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a62366d563556cb4cafe66f0cbb07da50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62366d563556cb4cafe66f0cbb07da50">&#9670;&nbsp;</a></span>setDutyCycle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setDutyCycle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dutyCycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rampTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setDutyCycle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dutyCycle</td><td></td></tr>
    <tr><td class="paramname">rampTime</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00195">195</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_a62366d563556cb4cafe66f0cbb07da50_cgraph.svg" width="436" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6cc4129f244eceb6031ab03f62ce9b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc4129f244eceb6031ab03f62ce9b6a">&#9670;&nbsp;</a></span>setFrequency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setFrequency </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setFrequency sets the frequency of the signal </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency</td><td>in hz </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00164">164</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_a6cc4129f244eceb6031ab03f62ce9b6a_cgraph.svg" width="403" height="55"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a2caa62735bf2f443e88a9095287cbad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2caa62735bf2f443e88a9095287cbad2">&#9670;&nbsp;</a></span>setPulseWidth() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setPulseWidth </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pulseWidth</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setPulseWidth sets the pulse width of the signal </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pulseWidth</td><td>width of the pulse in microsecond </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>if this method is called, it will cancel ramping functionality </dd></dl>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00066">66</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_a2caa62735bf2f443e88a9095287cbad2_icgraph.svg" width="403" height="191"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab1fb69041c1faa982c19e94e872a675b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1fb69041c1faa982c19e94e872a675b">&#9670;&nbsp;</a></span>setPulseWidth() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LibBBB::IO::MotorControl::setPulseWidth </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>finalPulseWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rampTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setPulseWidth sets the final pulse width of the signal using the given ramp time </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pulseWidth</td><td>width of the pulse width in microsecond </td></tr>
    <tr><td class="paramname">rampTime</td><td>time, in milliseconds, to achieve the final pulse width </td></tr>
  </table>
  </dd>
</dl>
<p>calculate the number of loops to achieve the desired ramp</p>
<h2>The formula is: rampTime * 1000 &lt;&ndash; this is done because ramp time is in milliseconds, not micro </h2>
<p>1 &ndash;&mdash; &lt;&ndash; this is the formula for the thread sleep time or period f</p>
<p>calculate the per thread run adder</p>
<h2>The formula is: pulseDelta &lt;&ndash; number of pulses for the ramp </h2>
<p>numberOfThreadLoops &lt;&ndash; number of times the thread will run for the ramp</p>
<p>This variable represents the pulse width that will not be achieved by the _rampRate * numberOfThreadLoops. This forces the first pulse width of the ramp to possibly be a different adder than the rest of the pulse widths.</p>
<p>For example, the final pulse width is 1500, the number of loops is 10, and the _rampRate is 145. If the _rampRate is just added 10 times, the final pulse width would be 1450 NOT 1500. The remainderPulses variable IS the 50 that the final pulse would be missing. Therefore, the 50 is added on the first ramped pulse so subsequent pulse additions will be even, making a perfect ramp to the final pulse width at the cost of the first pulse being a different adder than the rest.</p>

<p class="definition">Definition at line <a class="el" href="MotorControl_8cpp_source.html#l00084">84</a> of file <a class="el" href="MotorControl_8cpp_source.html">MotorControl.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classLibBBB_1_1IO_1_1MotorControl_ab1fb69041c1faa982c19e94e872a675b_cgraph.svg" width="403" height="123"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceLibBBB.html">LibBBB</a></li><li class="navelem"><a class="el" href="namespaceLibBBB_1_1IO.html">IO</a></li><li class="navelem"><a class="el" href="classLibBBB_1_1IO_1_1MotorControl.html">MotorControl</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
